{% extends 'mainApp/header.html' %}

{% block content %}
    <div class="mb-5">
        <div id="movie-nav" data-target="#movie-navbar">
            <div class="container">
                <h4 class="title" id="trailer">Recommended</h4>
                <div class="row trailer-wrapper">
                    <div class="col-sm-4 trailer-img-wrapper">
                        <img class="trailer-img img-fluid" src="https://wallpapercave.com/wp/wp5097093.jpg"
                             alt="My Hero Academia Heroes Rising"/>
                    </div>
                    <div class="col-sm-8 trailer-video-wrapper">
                        <div class="video-wrapper">
                            <iframe
                                    class="embed-responsive"
                                    src="https://www.youtube.com/embed/TQIogqaDQCM"
                                    frameborder="0"
                                    allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"
                                    allowfullscreen
                            ></iframe>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="container mt-4 ">
            <div class="row mb-4">
                <div class="col title ">
                    Most recent
                </div>
            </div>

            <div class="row mb-4">
                <div class="col-1 align-items-center">
                    <a class="carousel-control-prev" href="#movieCarousel" role="button" data-slide="prev">
                        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                        <span class="sr-only">Previous</span>
                    </a>
                </div>
                <div class="col-10">
                    <div id="movieCarousel" class="carousel slide" data-ride="carousel">
                        <div class="carousel-inner">
                            {% for movie_group in movies_year %}
                                <div class="carousel-item {% if forloop.first %}active{% endif %}">
                                    <div class="grid">
                                        {% for movie in movie_group %}
                                            {% if movie %}
                                                <div class="grid-item movies-col">
                                                    <img class="movie-img img-fluid" src="{{ movie.image.url }}"
                                                         alt="{{ movie.title }}"/>
                                                    <div class="movie-details">
                                                        <span class="movie-title">{{ movie.title }}</span>
                                                        <p class="rating"><span
                                                                class="start">&#9733;</span>: {{ movie.rating }}</p>
                                                        <p class="genre">Category: {{ movie.category }}</p>
                                                        <p class="release-year">Year: {{ movie.year }}</p>
                                                        <a class="btn btn-primary text-center"
                                                          href="{% url 'movie_detail' pk=movie.pk %}">Watch</a>
                                                    </div>
                                                </div>
                                            {% endif %}
                                        {% endfor %}
                                    </div>
                                </div>
                            {% endfor %}
                        </div>
                    </div>
                </div>
                <div class="col-1 align-items-center">
                    <a class="carousel-control-next" href="#movieCarousel" role="button" data-slide="next">
                        <span class="carousel-control-next-icon" aria-hidden="true"></span>
                        <span class="sr-only">Next</span>
                    </a>
                </div>
            </div>
        </div>
        <div class="container mt-4 ">
            <div class="row mb-4">
                <div class="col title ">
                    Order by rating
                </div>
            </div>

            <div class="row mb-4">
                <div class="col-1 align-items-center">
                    <a class="carousel-control-prev" href="#movieCarousel1" role="button" data-slide="prev">
                        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                        <span class="sr-only">Previous</span>
                    </a>
                </div>
                <div class="col-10">
                    <div id="movieCarousel1" class="carousel slide" data-ride="carousel">
                        <div class="carousel-inner">
                            {% for movie_group in movies_rating %}
                                <div class="carousel-item {% if forloop.first %}active{% endif %}">
                                    <div class="grid">
                                        {% for movie in movie_group %}
                                            {% if movie %}
                                                <div class="grid-item movies-col">
                                                    <img class="movie-img img-fluid" src="{{ movie.image.url }}"
                                                         alt="{{ movie.title }}"/>
                                                    <div class="movie-details">
                                                        <span class="movie-title">{{ movie.title }}</span>
                                                        <p class="rating"><span
                                                                class="start">&#9733;</span>: {{ movie.rating }}</p>
                                                        <p class="genre">Category: {{ movie.category }}</p>
                                                        <p class="release-year">Year: {{ movie.year }}</p>
                                                        <a class="btn btn-primary text-center"
                                                           href="{{ movie.trailer }}">Watch
                                                            Trailer</a>
                                                    </div>
                                                </div>
                                            {% endif %}
                                        {% endfor %}
                                    </div>
                                </div>
                            {% endfor %}
                        </div>
                    </div>
                </div>
                <div class="col-1 align-items-center">
                    <a class="carousel-control-next" href="#movieCarousel1" role="button" data-slide="next">
                        <span class="carousel-control-next-icon" aria-hidden="true"></span>
                        <span class="sr-only">Next</span>
                    </a>
                </div>
            </div>
        </div>
        <div class="container mt-4 ">
            <div class="row mb-4">
                <div class="col title ">
                    All Movies
                </div>
            </div>
            <div class="grid">
                {% for movie in movies_all %}
                    <div class="grid-item">
                        <img class="movie-img img-fluid" src="{{ movie.image.url }}"
                             alt="{{ movie.title }}"/>
                        <div class="movie-details">
                            <a  class="movie-title" href="{% url 'movie_detail' pk=movie.pk %}">{{ movie.title }}</a>
                            <p class="rating"><span
                                    class="start">&#9733;</span>: {{ movie.rating }}</p>
                            <p class="genre">Category: {{ movie.category }}</p>
                            <p class="release-year">Year: {{ movie.year }}</p>
                            <a class="btn btn-primary text-center"
                               href="{% url 'movie_detail' pk=movie.pk %}">Watch</a>
                        </div>
                    </div>
                {% endfor %}
            </div>
        </div>
    </div>
    </div>
    </div>
{% endblock content %}



